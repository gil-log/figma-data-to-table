<h2>JSON Key Reader</h2>
<textarea id="jsonInput" style="width: 100%; height: 80px;"></textarea>
<button id="getKeys">Generate Table</button>
<button id="cancel">Cancel</button>
<p id="errorMessage" style="color: red;"></p>

<script>
  document.getElementById('getKeys').onclick = () => {
    const jsonData = document.getElementById('jsonInput').value;
    parent.postMessage({ pluginMessage: { type: 'get-keys', data: jsonData } }, '*');
  }

  document.getElementById('cancel').onclick = () => {
    parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*');
  }

  window.onmessage = (event) => {
    if (event.data.pluginMessage.type === 'error') {
      document.getElementById('errorMessage').textContent = event.data.pluginMessage.message;
    }
  }
</script>
